import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as p,e as i,d as s,a,b as t,w as d,r as l,o as h}from"./app-CLY6NbeB.js";const c={};function u(m,e){const n=l("SiteInfo"),r=l("RouteLink");return h(),p("div",null,[e[5]||(e[5]=i('<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>我也是醉了，到大三才想着搭博客，本来学习压力蛮大的，但还是抽个两三天搭一个试试看</p><p>我采用的是vuepress框架的theme-hope主题，使用 <s>vercel</s> <s>Netlify</s> Cloudflare进行部署，vercel会有墙的问题，Netlify免费额度太少，且Cloudflare可以用他们的DNS服务器对我的域名进行管理，还有免费的统计功能、CDN、一天100k次请求，香！</p><p>博客会存储一些我的个人笔记，放一些随笔啥的，后面也会断断续续更新智<em>鸡</em>的课程资料（没空整理aaaaa）</p><h3 id="优质博客" tabindex="-1"><a class="header-anchor" href="#优质博客"><span>优质博客</span></a></h3>',5)),s(n,{name:"哈基豪的博客",desc:"本博客之子",url:"https://junhaowang.cn",preview:"/jhwangblog.png"}),e[6]||(e[6]=a("h3",{id:"自动生成评论通知邮件",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#自动生成评论通知邮件"},[a("span",null,"自动生成评论通知邮件")])],-1)),e[7]||(e[7]=a("p",null,"Giscus还是有些鸡肋，别人评论的时候自己完全不知道，因此我使用了GithubAction去监听Discussion，当有人评论的时候即可自动发送邮件到我的QQ邮箱",-1)),a("p",null,[e[1]||(e[1]=t("想要实现的话可以去看一下我的",-1)),s(r,{to:"/backend/GitHubActions.html"},{default:d(()=>[...e[0]||(e[0]=[t("GithubAction",-1)])]),_:1}),e[2]||(e[2]=t("笔记，了解一下自动化配置文件的基本语法，然后调用",-1)),e[3]||(e[3]=a("a",{href:"https://github.com/dawidd6/action-send-mail",target:"_blank",rel:"noopener noreferrer"},"这个Action",-1)),e[4]||(e[4]=t("实现邮件的发送",-1))]),e[8]||(e[8]=i('<p>遇到的问题：</p><ul><li>需要调用Github的API获取评论类型为回复的父评论（楼主），Github提供了RestAPI和GraphQL，我使用的是GraphQL，但是查询时如果传递的是当前评论的父评论ID，会报错 <ul><li>因为他需要的父评论ID需要经过Base64编码，而我们从event获取的是数值类型的ID，因此我们拿当前评论的ID（经过了Base64编码）去查询它的replyTo字段即可获得父评论的信息</li></ul></li><li>邮件发送HTML后邮箱无法渲染 <ul><li>用模板文件，然后使用sed对占位符进行替换，最后使用<code>html_body</code>指定HTML文件</li></ul></li><li>如果没有传递<code>GITHUB_TOKEN</code>，请求会受到限制，降至50次/小时 <ul><li>GithubAction每次执行workflow会自动在环境变量中创建TOKEN，我们直接使用<code>secrets.GITHUB_TOKEN</code>即可获取</li></ul></li></ul><h3 id="algolia重建索引" tabindex="-1"><a class="header-anchor" href="#algolia重建索引"><span>Algolia重建索引</span></a></h3><p>博客使用了Algolia作为第三方搜索引擎，但是当更新博客之后并不能立刻进行索引重建，需要在Algolia的dashboard进行索引重建，还是比较麻烦的，这里我也是使用GithubAction，采用的是<a href="https://github.com/marketplace/actions/algolia-crawler-automatic-crawl" target="_blank" rel="noopener noreferrer">官方的Action</a>，但是一直报我的API_KEY有误，等到我解决了再来更新这部分内容吧</p><p><strong>后续解决办法</strong>：换新版本的官方Action即可</p><h3 id="死链检测" tabindex="-1"><a class="header-anchor" href="#死链检测"><span>死链检测</span></a></h3><p>目前用了GithubAction每日对我博客的所有markdown文件进行自动扫描，检查是否有死链(也就是无效的URL)产生</p><p>遇到的几个问题：</p><ul><li>在vuepress中，标题的ID会被渲染成小写(Java被渲染成java)，导致在某个地方对Java这个标题产生引用的时候会找不到，从而产生锚点(md文件内标题的跳转)死链 <ul><li>把<strong>引用的Java改成java</strong>即可</li></ul></li><li>死链检测的时候使用外部工具：markdown-link-check，正常读取他的标准输出永远也检测不到死链 <ul><li>需要把他的标准输出和标准错误读取到一个文件中，再使用grep对错误信息进行提取，最后嵌入HTML模板文件发送邮件</li></ul></li><li>检测的时候会遇到路径问题，因为vuepress的静态文件使用的是相对路径，会导致外部工具无法找到静态文件 <ul><li>创建一个<code>.markdown-link-check.json</code>文件，用来规定如何替换相对路径为绝对路径，同时使用__WORK_DIR__占位，<strong>在自动化脚本执行的时候获取工作目录，对占位符进行替换，把相对路径改成<code>file://</code>形式的绝对路径即可</strong></li></ul></li></ul><h3 id="解决-渲染的问题" tabindex="-1"><a class="header-anchor" href="#解决-渲染的问题"><span>解决**渲染的问题</span></a></h3><p>** ：**这种情况会导致*内的元素无法被加粗</p><p>使用正则表达式</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-txt"><span class="line"><span>\\*\\*([^:]+)：\\*\\*</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>替换为</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-txt"><span class="line"><span>**$1：​​​​**</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在原生typora不会有这种问题，在VS和vuepress渲染的时候就出现这个问题</p><p>需要注意的是，替换的样式加了一个ZWSP字符（零宽空格），具体可以看这篇<a href="https://senjianlu.com/2024/10/06/markdown_cant_blod/" target="_blank" rel="noopener noreferrer">博客</a></p><h3 id="替换标题样式" tabindex="-1"><a class="header-anchor" href="#替换标题样式"><span>替换标题样式</span></a></h3><p>如果你设置了一级标题，vuepress的title会把你的一级标题<strong>吞</strong>了，然后你在旁边的目录就找不到一级标题:)</p><p>上正则表达式</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-txt"><span class="line"><span>^(#+)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>替换为</p><div class="language-txt line-numbers-mode" data-highlighter="shiki" data-ext="txt" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-txt"><span class="line"><span>#$1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>',23))])}const k=o(c,[["render",u]]),v=JSON.parse('{"path":"/aboutblog/","title":"关于博客","lang":"zh-CN","frontmatter":{"title":"关于博客","index":false,"icon":"grommet-icons:blog","article":false,"timeline":false,"date":"2025-10-10T00:00:00.000Z","description":"前言 我也是醉了，到大三才想着搭博客，本来学习压力蛮大的，但还是抽个两三天搭一个试试看 我采用的是vuepress框架的theme-hope主题，使用 Cloudflare进行部署，vercel会有墙的问题，Netlify免费额度太少，且Cloudflare可以用他们的DNS服务器对我的域名进行管理，还有免费的统计功能、CDN、一天100k次请求，香！...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"关于博客\\",\\"description\\":\\"前言 我也是醉了，到大三才想着搭博客，本来学习压力蛮大的，但还是抽个两三天搭一个试试看 我采用的是vuepress框架的theme-hope主题，使用 Cloudflare进行部署，vercel会有墙的问题，Netlify免费额度太少，且Cloudflare可以用他们的DNS服务器对我的域名进行管理，还有免费的统计功能、CDN、一天100k次请求，香！...\\"}"],["meta",{"property":"og:url","content":"https://xbzhong.cn/aboutblog/"}],["meta",{"property":"og:site_name","content":"阿b的博客"}],["meta",{"property":"og:title","content":"关于博客"}],["meta",{"property":"og:description","content":"前言 我也是醉了，到大三才想着搭博客，本来学习压力蛮大的，但还是抽个两三天搭一个试试看 我采用的是vuepress框架的theme-hope主题，使用 Cloudflare进行部署，vercel会有墙的问题，Netlify免费额度太少，且Cloudflare可以用他们的DNS服务器对我的域名进行管理，还有免费的统计功能、CDN、一天100k次请求，香！..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-11-22T03:34:04.000Z"}],["meta",{"property":"article:published_time","content":"2025-10-10T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-11-22T03:34:04.000Z"}]]},"git":{"createdTime":1760100316000,"updatedTime":1763782444000,"contributors":[{"name":"BO","username":"BO","email":"2396768163@qq.com","commits":10,"url":"https://github.com/BO"}]},"readingTime":{"minutes":3.78,"words":1133},"filePathRelative":"aboutblog/README.md","excerpt":"<h2>前言</h2>\\n<p>我也是醉了，到大三才想着搭博客，本来学习压力蛮大的，但还是抽个两三天搭一个试试看</p>\\n<p>我采用的是vuepress框架的theme-hope主题，使用 <s>vercel</s> <s>Netlify</s> Cloudflare进行部署，vercel会有墙的问题，Netlify免费额度太少，且Cloudflare可以用他们的DNS服务器对我的域名进行管理，还有免费的统计功能、CDN、一天100k次请求，香！</p>\\n<p>博客会存储一些我的个人笔记，放一些随笔啥的，后面也会断断续续更新智<em>鸡</em>的课程资料（没空整理aaaaa）</p>\\n<h3>优质博客</h3>","autoDesc":true}');export{k as comp,v as data};
